# ========================================
# WIZARD GAME SERVER - ENVIRONMENT CONFIG
# ========================================

# ===== Server Configuration =====
NODE_ENV=development
PORT=3000
HOST=localhost

# ===== Database Configuration =====
# MongoDB Connection String
# Development:
MONGODB_URI=mongodb://localhost:27017/wizardgame

# Production (MongoDB Atlas):
 MONGODB_URI=mongodb+srv://wizardadmin:Wizard%4018310%23@wizardgame.vr58yqm.mongodb.net/wizardgame?retryWrites=true&w=majority&appName=WizardGame



# Database Options
DB_NAME=wizardgame
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=5

# ===== JWT & Security =====
# Generate a secure random string: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-use-long-random-string
JWT_EXPIRY=7d

# Session Secret
SESSION_SECRET=your-session-secret-change-this-too

# Encryption Key (for sensitive data)
ENCRYPTION_KEY=your-encryption-key-for-sensitive-data-32-chars-minimum

# ===== CORS Configuration =====
# Client URL (Unity Game)
CLIENT_URL=http://localhost:5173

# Allowed Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ===== Rate Limiting =====
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# ===== Socket.IO Configuration =====
SOCKET_PING_TIMEOUT=60000
SOCKET_PING_INTERVAL=25000

# ===== Logging =====
LOG_LEVEL=info
LOG_FILE=logs/server.log
ERROR_LOG_FILE=logs/error.log

# ===== Email Configuration (Optional - for password reset) =====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-email-password-or-app-password

# Email From
EMAIL_FROM=noreply@wizardgame.com

# ===== Cloud Storage (Optional - for avatars, screenshots) =====
# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=wizard-game-assets

# Or Cloudinary
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ===== Redis (Optional - for caching and sessions) =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===== Game Configuration =====
# XP System
XP_PER_SEGMENT=20
SEGMENTS_PER_LEVEL=5

# Combat
BASE_HEALTH=100
HEALTH_INCREASE_PER_LEVEL=5
HORCRUX_EVERY_N_LEVELS=10

# Economy
STARTING_GALLEONS=100
GALLEONS_PER_LEVEL=10

# ===== Multiplayer Settings =====
MAX_PLAYERS_PER_ROOM=10
ROOM_IDLE_TIMEOUT=300000

# ===== Maintenance =====
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Server is under maintenance. Please try again later.

# ===== Analytics & Monitoring (Optional) =====
# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# ===== Development Tools =====
# Enable debug mode
DEBUG=false

# Enable verbose logging
VERBOSE=false

# Auto-reload on file changes
AUTO_RELOAD=true

# ===== Testing =====
TEST_DB_URI=mongodb://localhost:27017/wizardgame_test
TEST_PORT=3001

# ===== Backup Configuration =====
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000
BACKUP_PATH=./backups

# ===== Feature Flags =====
ENABLE_PVP=true
ENABLE_QUIDDITCH=true
ENABLE_POTIONS=true
ENABLE_CHAT=true
ENABLE_LEADERBOARDS=true

# ===== Admin =====
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-secure-password
ADMIN_EMAIL=admin@wizardgame.com

# ===== External APIs (Optional) =====
# OpenAI API (for AI Sorting Hat)
OPENAI_API_KEY=your-openai-api-key

# ===== Security Headers =====
TRUST_PROXY=false
HELMET_ENABLED=true

# ===== Performance =====
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000

# ===== Webhooks (Optional) =====
DISCORD_WEBHOOK_URL=your-discord-webhook-url
SLACK_WEBHOOK_URL=your-slack-webhook-url

# ========================================
# NOTES:
# ========================================
# 1. Copy this file to .env and fill in your actual values
# 2. NEVER commit .env to version control
# 3. Add .env to .gitignore
# 4. Use strong, randomly generated secrets in production
# 5. Rotate secrets regularly
# 6. Keep production and development configs separate
# ========================================